---
layout: post
title: "石油勘探应用对高性能计算的需求"
modified:
categories: Life
excerpt:
tags:
icon: fa-eye
---

## 存储需求
油气公司对需要处理庞大的数据。随着传感器技术的日新月异，油气勘探中采集到的数据的分辨率和规模也日益增加。一次典型的海上油气勘探约有20000炮集，每个炮集中约有30000个接收器，每个接收器采集的数据约为1MB，则总数据量约为600TB。巨大的数据集对超级计算机的存储提出了巨大的需求。

在计算的过程中，常常需要进行频繁的IO操作。油公司常用的成像算法，如逆时偏移算法（RTM），全波形反演算法（FWI），在计算梯度的过程中需要频繁读写临时文件。高效的文件系统和磁盘速度对计算效率有巨大的影响。对于一个1000x1000x1000的三维网格波场，单节点需要使用超过4GB的内存对其维护。在成像算法中，每个节点都需要对这个波场进行约1000次的文件读写。单节点巨大的IO操作促使油气公司在搭建集群时，通常为每个节点配备大容量SSD存储。


## 内存需求
单节点的内存对于石油成像算法而言理论上是越大越好。更大的内存可以是单节点计算更大或者更加精细的网格，从而减少多个节点共同计算一个网格带来的通信开销。油气公司的集群一般配备的单节点内存为128GB。

如果单节点内存不足以维护一个波场（完整网格），则需要将一个完整网格在多节点划分，这将频繁引入子网格边界的通信，甚至需要对原来的算法进行重构。


## 计算需求
计算的节点数目决定着能够同时计算的炮数。在典型的石油勘探场景中，一般会采集50000炮数据。如果单节点内存和运算节点数目足够，所有的炮集能够同时进行运算。油公司通常配备的集群数目为1000-5000。如果单节点内存不足且想保持相似的计算效率，则需要更大的规模。

## 总结
鉴于以上的分析，下表总结了石油勘探应用对超级计算机的硬件需求或指标。

- 操作系统: Linux
- 单节点内存: 64GB-128GB
- 本地磁盘: 512GB-1TB	 SSD
- 中央存储: 1PB
- 节点数: 1000-5000
